# Chapter23 실행 컨텍스트
## 📌문제1
### 다음 보기의 순서를 알맞게 배치하시오.
```
- 전역 실행 컨텍스트 생성
- 전역 렉시컬 환경 생성
- 객체 환경 레코드 생성
- 선언적 환경 레코드 생성
- 외부 렉시컬 환경에 대한 참조 결정
- 전역 환경 레코드 생성
- 전역 객체 생성
```
### 정답 및 해설
```
1. 전역 객체 생성
   - 전역 객체에는 빌트인 전역 프로퍼티와 빌트인 전역 함수 등이 포함된다.
2. 전역 실행 컨텍스트 생성
3. 전역 렉시컬 환경 생성
   - 전역 환경 레코드와 외부 렉시컬 환경에 대한 참조로 구성되어 있다.
   - 스코프와 식별자를 관리한다.
4. 전역 환경 레코드 생성
   - 객체 환경 레코드와 선언적 환경 레코드로 구성되어 있다.
   - var 키워드로 선언한 전역 변수와 let, const 키워드로 선언한 전역 변수를 구분하여 관리하기 위해 전역 스코프 역할을 한다.
5. 객체 환경 레코드 생성
   - var 키워드로 선언한 전역 변수와 함수 선언문으로 정의된 전역 함수를 객체 환경 레코드의 BindingObejct를 통해 전역 객체의 프로퍼티와 메서드로 등록하고 관리한다.
6. 선언적 환경 레코드 생성
   - let, const 키워드로 선언한 전역 변수를 등록하고 관리한다.
7. 외부 렉시컬 환경에 대한 참조 결정
   - 현재 평가 중이 소스코드의 상위 스코프를 가리킨다.
   - 전역 코드인 경우 null이 할당된다.

(참고) 외부 렉시컬 환경에 대한 참조 결정을 하기 전에 this 바인딩을 한다.
```
- P368~386

<br>

## 📌문제2
### `let`, `const` 키워드로 선언한 전역 변수는 일시적 사각지대에 빠질 위험이 있는 이유를 작성하시오.
### 정답 및 해설
```
let, const 키워드로 선언한 변수는 선언 단계와 초기화 단계가 분리되어 진행한다.
따라서 초기화 단계, 즉 런타임에 실행 흐름이 변수 선언문에 도달하기 전까지를 일시적 사각지대라고 한다.
이때 해당 변수를 호출하면 참조 에러가 발생한다.

이와 다르게 var 키워드로 선언한 변수는 선언 단계와 초기화 단계가 동시에 진행된다.
즉, 전역 코드 평가 시점에 객체 환경 레코드에 바인딩된 BindingObject를 통해 전역 객체에 변수 식별자를 키로 등록한 다음, 암묵적으로 undefined를 바인딩한다.
```
- P372

<br>

## 📌문제3
### 아래 단어를 활용하여 코드 블록(예: if문) 실행 컨텍스트의 렉시컬 환경이 어떻게 변화는지 설명하시오.
```
블록 레벨 스코프 생성, 선언적 환경 레코드, 렉시컬 환경, 코드 블록 종료
```
### 정답 및 해설
```
if문의 코드 블록이 실행되면 if문의 코드 블록을 위한 블록 레벨 스코프를 생성해야 한다.
이를 위해 선언적 환경 레코드를 갖는 렉시컬 환경을 새롭게 생성하여 기존의 전역 렉시컬 환경을 교체한다.
이때 새롭게 생성된 if문의 코드 블록을 위한 렉시컬 환경의 외부 렉시컬 환경에 대한 참조는 if문이 실행되기 이전의 전역 렉시컬 환경을 가리킨다.
if문 코드 블록의 실행이 종료되면 if문의 코드 블록이 실행되기 이전의 렉시컬 환경으로 되돌린다.
```
- P386~387

<br>

## 📌문제3
### 아래 단어를 활용하여 코드 블록(예: if문) 실행 컨텍스트의 렉시컬 환경이 어떻게 변화는지 설명하시오.
```
블록 레벨 스코프 생성, 선언적 환경 레코드, 렉시컬 환경, 코드 블록 종료
```
### 답안 작성
```
```

<br>

## 📌 문제 4
### 자바스크립트 엔진이 소스코드를 처리하는 단계를 이야기하고, 각 단계에서 무슨 일이 일어나는지 서술하시오.
### 정답 및 해설
```
소스코드의 평가 / 실행으로 나뉜다.
소스코드를 평가할 때에는 선언문만 먼저 실행해 식별자를 등록하는 과정을 거친다.
또한 식별자를 등록하고 관리하기 위해 실행 컨텍스트를 생성하게 된다.
실행 단계에서는 소스코드를 실행하며 순차적으로 값을 등록한다.
실행 컨텍스트에서 관련 상태를 변경하고, 소스코드 실행에 필요한 정보가 있으면 실행 컨텍스트에서 가져온다.
```
    

## 📌 문제 5
### true or false 를 고르시오
```jsx
1. 전역 객체를 가리키는 식별자(window) 없이 전역 객체의 프로퍼티를 참조할 수 있다.
2. 실행 컨텍스트 스택의 최상위에 존재하는 실행 컨텍스트는 언제나 실행 중인 코드의 실행 컨텍스트이다.
3. const 또는 let 은 평가될 때 호이스팅되지 않고, 전역 객체의 프로퍼티로도 등록되지 않으며,
선언적 환경 레코드로 들어간다.  
```
### 정답 및 해설
```
1. O
2. O
3. X
```

## 📌 문제 6
### 스코프 체인이란 무엇인지 렉시컬 환경과 연관지어 서술하시오.
### 정답 및 해설
```
외부 렉시컬 환경에 대한 참조는 해당 실행 컨텍스트를 생성한 소스코드를 포함하는 상위 코드의 렉시컬 환경을 가리킨다. 
이것을 통해 단방향 링크드 리스트인 스코프 체인을 구현한다. 이것이 스코프 체인의 실체라고 할 수 있다. 
```

<br>
