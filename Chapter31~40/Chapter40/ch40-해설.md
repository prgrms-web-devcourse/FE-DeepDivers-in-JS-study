# Chapter40
## ğŸ“Œë¬¸ì œ1

### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì œê±°ì— ê´€í•œ ë¬¸ì œì…ë‹ˆë‹¤. ê°ê°ì— ëŒ€í•´ ì •ë‹µì„ ìƒê°í•´ë³´ì„¸ìš”.

<br>

### (1) button ìš”ì†Œë¥¼ 3ë²ˆ í´ë¦­í•œ ê²½ìš°ì˜ ê²°ê³¼ë¥¼ ì‘ì„±í•˜ì„¸ìš”.
```html
<html>
<body>
    <button>Click me!</button>
    <script>
        const $button = document.querySelector('button');

        const handleClick = () => console.log('button click')
        $button.addEventListener('click', handleClick)
        $button.removeEventListener('click', handleClick, true)
    </script>
</body>
</html>
```
### ë‹µì•ˆ ì‘ì„±
```
button click
button click
button click
```
```
addEventListener ë©”ì„œë“œë¡œ ë“±ë¡í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ removeEventListener ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
removeEventListener ë©”ì„œë“œì— ì „ë‹¬í•  ì¸ìˆ˜ëŠ” addEventListener ë©”ì„œë“œì™€ ë™ì¼í•´ì•¼ í•©ë‹ˆë‹¤.
ì „ë‹¬í•œ ì¸ìˆ˜ê°€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì œê±°ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
```

<br>

### (2) button ìš”ì†Œë¥¼ 3ë²ˆ í´ë¦­í•œ ê²½ìš°ì˜ ê²°ê³¼ë¥¼ ì‘ì„±í•˜ì„¸ìš”.
```html
<html>
<body>
    <button>Click me!</button>
    <script>
        const $button = document.querySelector('button');

        $button.addEventListener('click', function foo() {
            console.log('button click')
            $button.removeEventListener('click',foo)
        } )
    </script>
</body>
</html>
```
### ë‹µì•ˆ ì‘ì„±
```
button click
```
```
765p
ìœ„ì˜ ì½”ë“œ ì²˜ëŸ¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œ removeEventListener ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì œê±°í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ì´ë•Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ë‹¨ í•œ ë²ˆë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.
ë”°ë¼ì„œ ë²„íŠ¼ ìš”ì†Œë¥¼ ì—¬ëŸ¬ ë²ˆ í´ë¦­í•´ë„ ë‹¨ í•œë²ˆë§Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
```

<br>

## ğŸ“Œë¬¸ì œ2

### ë‹¤ìŒì˜ true or falseë¥¼ íŒë‹¨í•˜ì„¸ìš”.

```
(1) mouseover ì´ë²¤íŠ¸ íƒ€ì…ì€ ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ HTML ìš”ì†Œ ë°–ìœ¼ë¡œ ì´ë™í•œ ì‹œì ì— ë°œìƒë˜ë©° ë²„ë¸”ë§ëœë‹¤.
(2) addEventListener ë©”ì„œë“œë¥¼ í†µí•´ ì°¸ì¡°ê°€ ë™ì¼í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì¤‘ë³µ ë“±ë¡í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
(3) addEventListener ë©”ì„œë“œì— ì „ë‹¬í•œ ì¸ìˆ˜ì™€ removeEventListener ë©”ì„œë“œì— ì „ë‹¬í•œ ì¸ìˆ˜ê°€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì œê±°ë˜ì§€ ì•Šê³  ì—ëŸ¬ë„ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
(4) ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ì˜ ê²½ìš°, ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ì „ë‹¬ë°›ê¸° ìœ„í•´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ ì´ë¦„ì€ ë¬´ì¡°ê±´ eventë¡œë§Œ ì„ ì–¸í•´ì•¼ í•œë‹¤.
```

### ë‹µì•ˆ ì‘ì„±
```
(1) false
(2) false
(3) true
(4) true
```

```
(1) 755p mouseover ì´ë²¤íŠ¸ íƒ€ì…ì€ ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ HTML ìš”ì†Œ ì•ˆìœ¼ë¡œ ì´ë™í•œ ì‹œì ì— ë°œìƒë˜ë©° ë²„ë¸”ë§ë©ë‹ˆë‹¤.
(2) 764p í•˜ë‚˜ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë§Œ ë“±ë¡ë©ë‹ˆë‹¤.
(4) 769p ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ì€ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ í•¨ìˆ˜ ëª¸ì²´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
```

<br>

## ğŸ“Œë¬¸ì œ3

### ë‹¤ìŒ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ì‘ì„±í•˜ì„¸yo.

```html
<html>
<body>
    <button class="btn">0</button>
    <button class="btn2">5</button>
    <script>
        const $button = document.querySelector('.btn')

        $button.onclick = function(e){
            console.log(this); // (1)
            console.log(e.currentTarget); // (2)
            ++this.textContent;
        }

        const $button2 = document.querySelector('.btn2')

        $button2.addEventListener('click', function (e) { 
            console.log(this === e.currentTarget); // (3)
            --this.textContent;
            console.log(this.textContent); // (4)
        });
    </script>
</body>
</html>
```

### ë‹µì•ˆ ì‘ì„±
```
(1) <button class="btn">1</button>
(2) <button class="btn">1</button>
(3) true
(4) 4
```
```
790p
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹ê³¼ addEventListener ë©”ì„œë“œ ë°©ì‹ ëª¨ë‘
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ thisëŠ” ì´ë²¤íŠ¸ë¥¼ ë°”ì¸ë”©í•œ DOM ìš”ì†Œë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.
ì¦‰ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ thisëŠ” ì´ë²¤íŠ¸ ê°ì²´ì˜ currentTarget í”„ë¡œí¼í‹°ì™€ ê°™ìŠµë‹ˆë‹¤.
```

## ğŸ“Œë¬¸ì œ4

### ë‹¤ìŒì„ ì„œìˆ í•˜ì‹œì˜¤.

```
1. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë€
2. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ì´ë€
3. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ë°©ë²• 3ê°€ì§€ë¥¼ ë°©ë²•
```

### ë‹µì•ˆ ì‘ì„±
```html
(1): ì´ë²¤íŠ¸ê°€ ë°œìƒë˜ì—ˆì„ë•Œ í˜¸ì¶œë  í•¨ìˆ˜.
(2): ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ ë¸Œë¼ìš°ì €ì—ê²Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í˜¸ì¶œì„ ìœ„ì„í•˜ëŠ”ê²ƒ.
(3):
    - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹
    - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹
    - addEventListener ë©”ì„œë“œ ë°©ì‹

    <button class="btn1" onclick="print('btn1')">ë²„íŠ¼1</button>
    <button class="btn2">ë²„íŠ¼2</button>
    <button class="btn3">ë²„íŠ¼3</button>
    <script>
      const print = (str) => {
        console.log(str);
      };

      const $btn2 = document.querySelector(".btn2");
      $btn2.onclick = () => {
        print("btn2");
      };

      const $btn3 = document.querySelector(".btn3");
      $btn3.addEventListener("click", () => {
        print("btn3");
      });
    </script>

```

<br>

## ğŸ“Œë¬¸ì œ5

### true or falseë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

```
1. ì´ë²¤íŠ¸ ì „íŒŒëŠ” ìº¡ì²˜ë§ë‹¨ê³„ - íƒ€ê²Ÿë‹¨ê³„ - ë²„ë¸”ë§ë‹¨ê³„ ìˆœìœ¼ë¡œ ì „íŒŒëœë‹¤.
2. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” ëª¨ë“  ë°©ë²•(3ê°€ì§€)ì—ì„œ ìº¡ì²˜ë§ë‹¨ê³„ë¥¼ ìºì¹˜í•  ìˆ˜ ìˆë‹¤.
3. ì´ë²¤íŠ¸ ìœ„ì„ì´ë€, ì—¬ëŸ¬ ê°œì˜ í•˜ìœ„ DOMìš”ì†Œì— ê°ê° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” ëŒ€ì‹  í•˜ë‚˜ì˜ ìƒìœ„ DOMìš”ì†Œì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” ë°©ë²•ì„ ë§í•œë‹¤.
```

### ë‹µì•ˆ ì‘ì„±
```
(1): true - p.780
(2): false - addEventListenderë©”ì„œë“œ ë°©ì‹ì—ì„œ 3ë²ˆì§¸ ì¸ìë¥¼ trueë¡œ ì „ë‹¬í•œ ê²½ìš°ì—ë§Œ ìºì¹˜ê°€ê°€ëŠ¥í•˜ê³ , ë‚˜ë¨¸ì§€ ë“±ë¡ë°©ì‹ì—ì„  íƒ€ê²Ÿë‹¨ê³„ì™€ ë²„ë¸”ë§ë‹¨ê³„ì—ì„œë§Œ ìºì¹˜ê°€ ê°€ëŠ¥.
(3): true - p.785
```

<br>

## ğŸ“Œë¬¸ì œ6

### ì¶œë ¥ê²°ê³¼ë¥¼ ì˜ˆì¸¡í•´ì£¼ì„¸ìš”.

```html
 <div class="BtnContainer">
      <button class="btn">ë²„íŠ¼</button>
    </div>
    <script>
      const $btnContainer = document.querySelector(".btnContainer");
      const $btn = document.querySelector(".btn");

      const customEvent = new CustomEvent("custom", {
        detail: {
          content: "hi!",
        }
      });

      $btn.addEventListener("click", () => {
        $btn.dispatchEvent(customEvent);
      });

      $btnContainer.addEventListener("custom", (e) => {
        console.log(e.detail.content); // (1)
      });
    </script>
```

### ë‹µì•ˆ ì‘ì„±
```
(1) : ì•„ë¬´ëŸ° ê²°ê³¼ë„ ì¶œë ¥ë˜ì§€ì•ŠìŒ. -> ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ê°ì²´ì€ ë²„ë¸”ë§ì´ ë°œìƒí•˜ì§€ì•ŠëŠ”ë‹¤. 
```

<br>

## ğŸ“Œë¬¸ì œ7
### ë‹¤ìŒ ì½”ë“œì—ì„œ `#target ìš”ì†Œ`ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì¶œë ¥ ê²°ê³¼ë¬¼ì„ ì‘ì„±í•˜ì‹œì˜¤.
```html
<body>
  <input type="text" id="target">
  
  <script type="text/javascript">
    function clickHandler(event) {
      console.log('click');
    }
    function focusHandler(event) {
      console.log('focusin');
    }
    function mouseUpHandler(event) {
      console.log('mouse-up');
    }
    function mouseDownHandler(event) {
      console.log('mouse-down');
    }

    target.addEventListener('click', clickHandler, true)
    target.addEventListener('focusin', focusHandler)
    target.addEventListener('mouseup', mouseUpHandler)
    target.addEventListener('mousedown', mouseDownHandler)
  </script>
</body>
```
### ì •ë‹µ ë° í•´ì„¤
```
mouse-down
focusin
mouse-up
click

í•´ë‹¹ ìš”ì†Œë¥¼ í´ë¦­í•˜ì˜€ì„ ë•Œ, ì´ë²¤íŠ¸ì˜ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ëœë‹¤.
click ì´ë²¤íŠ¸ ë“±ë¡ì— ìˆëŠ” ìº¡ì³ë§ì€ ì´ë²¤íŠ¸ ìš°ì„ ìˆœìœ„ì— ìƒê´€ì—†ë‹¤.
```
- [ğŸ”—DOM event precedence](https://stackoverflow.com/questions/282245/dom-event-precedence)

<br>

## ğŸ“Œë¬¸ì œ8
### ë‹¤ìŒ ì½”ë“œì—ì„œ `#target ìš”ì†Œ`ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì¶œë ¥ ê²°ê³¼ë¬¼ì„ ì‘ì„±í•˜ì‹œì˜¤.
```html
<body>
  <input type="text" id="target" onclick="clickAttribute(event)">

  <script type="text/javascript">
    
    function clickAttribute(event) {
      console.log('click-attribute');
    }
    function clickProperty(event) {
      console.log('click-property');
    }
    function clickEventListener(event) {
      console.log('click-addEventListener');
    }
    function clickEventListenerCapturing(event) {
      console.log('click-addEventListener-capturing');
    }

    target.addEventListener('click', clickEventListener)
    target.onclick = clickProperty;
    target.addEventListener('click', clickEventListenerCapturing, true)
  </script>
</body>
```
### ì •ë‹µ ë° í•´ì„¤
```
click-addEventListener-capturing
click-property
click-addEventListener

ìš”ì†Œì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ attributeê°’ìœ¼ë¡œ í• ë‹¹í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì œì¼ ë¨¼ì € ë“±ë¡ëœë‹¤.
ê·¸ ì´í›„ propertyë¡œ ë“±ë¡í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ê¸°ì¡´ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ attributeê°’ì„ ë®ì–´ì“´ë‹¤.
ì´ì™€ ë³„ê°œë¡œ addEventListenerë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë“±ë¡ëœë‹¤.

ì‚¬ìš©ìê°€ í´ë¦­ì„ í•˜ë©´
ë¨¼ì € clickì´ë²¤íŠ¸ë¡œ Capturingë‹¨ê³„ê°€ ìˆ˜í–‰ëœë‹¤.
ê·¸ ë‹¤ìŒìœ¼ë¡œ íƒ€ê²Ÿ ë‹¨ê³„ì™€ Bubbling ë‹¨ê³„ê°€ ì§„í–‰ëœë‹¤.
ì—¬ê¸°ì„œëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë“±ë¡ëœ ìš”ì†Œì—ì„œ attribute, propertyë¡œ ë“±ë¡ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ addEventListenerë¡œ ë“±ë¡ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë³´ë‹¤ ë‚˜ì¤‘ì— ì‹¤í–‰ëœë‹¤.
(í˜„ì¬ë¬¸ì œì—ì„œëŠ” attributeë¡œ ë“±ë¡ëœ ì´ë²¤íŠ¸ ë°œìƒX)
```
- p758~764

<br>

## ğŸ“Œë¬¸ì œ9
### ë‹¤ìŒ ì½”ë“œì—ì„œ `1ë²ˆ`ì„ í´ë¦­í•˜ì˜€ì„ ë•Œì™€ `2ë²ˆì˜ inputìš”ì†Œ`ë¥¼ í´ë¦­í•˜ì˜€ì„ ë•Œ ì¶œë ¥ê²°ê³¼ë¥¼ ì‘ì„±í•˜ì‹œì˜¤.
```html
<body>
  <ul onclick="console.log('ul')">
    <li>1ë²ˆ</li>
    <li>
      2ë²ˆ<input type="text" onclick="console.log('input');" disabled>
    </li>
  </ul>
</body>
```
### ì •ë‹µ ë° í•´ì„¤
```
1ë²ˆ í´ë¦­ì‹œ ì¶œë ¥ ê²°ê³¼ : ul
2ë²ˆì˜ inputìš”ì†Œ í´ë¦­ì‹œ ì¶œë ¥ ê²°ê³¼ : ul

disabled ì†ì„±ì´ ì ìš©ëœ ìš”ì†ŒëŠ” ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ì´ë²¤íŠ¸ëŠ” ë™ì‘í•˜ì—¬ ulíƒœê·¸ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
```

<br>
